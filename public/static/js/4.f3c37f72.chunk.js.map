{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","shared/components/UIElements/ErrorModal.js","shared/components/UIElements/Modal.js","shared/hooks/http-hook.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","shared/util/validators.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","shared/components/FormElements/Input.js","shared/hooks/form-hook.js","shared/components/FormElements/ImageUpload.js","places/pages/NewPlace.js"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","ErrorModal","props","onCancel","onClear","header","show","footer","onClick","ModalOverlay","content","className","style","headerClass","onSubmit","event","preventDefault","contentClass","children","footerClass","createPortal","document","getElementById","Modal","Fragment","in","mountOnEnter","unmountOnExit","timeout","classNames","useHttpClient","useState","isLoading","setIsLoading","setError","activeHttpRequests","useRef","sendRequest","useCallback","url","method","body","headers","httpAbortCtrl","AbortController","current","push","fetch","signal","response","json","responseData","filter","reqCtrl","ok","Error","message","useEffect","forEach","abortCtrl","abort","clearError","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","_objectSpread2","target","i","length","source","getOwnPropertyDescriptors","defineProperties","defineProperty","_defineProperty","obj","configurable","writable","VALIDATOR_REQUIRE","type","VALIDATOR_MINLENGTH","val","VALIDATOR_EMAIL","validate","validators","isValid","o","Symbol","iterator","Array","isArray","unsupportedIterableToArray","F","s","n","e","_e","f","TypeError","it","normalCompletion","didErr","step","next","_e2","validator","trim","test","inputReducer","state","action","isTouched","Input","useReducer","initialValue","initialValid","inputState","dispatch","id","onInput","changeHandler","touchHandler","element","placeholder","onChange","onBlur","rows","htmlFor","label","errorText","formReducer","formIsValid","inputId","inputs","useForm","initialInputs","initialFormValidity","formState","inputData","formValidity","ImageUpload","file","setFile","previewUrl","setPreviewUrl","setIsValid","filePickerRef","fileReader","FileReader","onload","result","readAsDataURL","ref","display","accept","pickedFile","fileIsValid","files","center","src","alt","click","NewPlace","auth","useContext","AuthContext","title","description","address","image","inputHandler","history","useHistory","placeSubmitHandler","formData","FormData","append","process","Authorization","token","asOverlay","disabled"],"mappings":"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","file":"static/js/4.f3c37f72.chunk.js","sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import React from 'react';\n\nimport Modal from './Modal';\nimport Button from '../FormElements/Button';\n\nconst ErrorModal = props => {\n  return (\n    <Modal\n      onCancel={props.onClear}\n      header=\"An Error Occurred!\"\n      show={!!props.error}\n      footer={<Button onClick={props.onClear}>Okay</Button>}\n    >\n      <p>{props.error}</p>\n    </Modal>\n  );\n};\n\nexport default ErrorModal;\n","import React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { CSSTransition } from \"react-transition-group\";\n\nimport Backdrop from \"./Backdrop\";\nimport \"./Modal.css\";\n\nconst ModalOverlay = (props) => {\n  const content = (\n    <div className={`modal ${props.className}`} style={props.style}>\n      <header className={`modal__header ${props.headerClass}`}>\n        <h2>{props.header}</h2>\n      </header>\n      <form\n        onSubmit={\n          props.onSubmit ? props.onSubmit : (event) => event.preventDefault()\n        }\n      >\n        <div className={`modal__content ${props.contentClass}`}>\n          {props.children}\n        </div>\n        <footer className={`modal__footer ${props.footerClass}`}>\n          {props.footer}\n        </footer>\n      </form>\n    </div>\n  );\n\n  return createPortal(content, document.getElementById(\"modal-hook\"));\n};\n\nconst Modal = (props) => {\n  return (\n    <React.Fragment>\n      {props.show && <Backdrop onClick={props.onCancel} />}\n      <CSSTransition\n        in={props.show}\n        mountOnEnter\n        unmountOnExit\n        timeout={200}\n        classNames=\"modal\"\n      >\n        <ModalOverlay {...props} />\n      </CSSTransition>\n    </React.Fragment>\n  );\n};\n\nexport default Modal;\n","import { useState, useCallback, useRef, useEffect } from 'react';\n\nexport const useHttpClient = () => {\n    const [ isLoading, setIsLoading ] = useState( false );\n    const [ error, setError ] = useState();\n\n    const activeHttpRequests = useRef( [] );\n\n    const sendRequest = useCallback(\n        async ( url, method = 'GET', body = null, headers = {} ) => {\n            setIsLoading( true );\n            const httpAbortCtrl = new AbortController();\n            activeHttpRequests.current.push( httpAbortCtrl );\n\n            try {\n                const response = await fetch( url, {\n                    method,\n                    body,\n                    headers,\n                    signal: httpAbortCtrl.signal\n                } );\n\n                const responseData = await response.json();\n\n                activeHttpRequests.current = activeHttpRequests.current.filter(\n                    reqCtrl => reqCtrl !== httpAbortCtrl\n                );\n\n                if ( !response.ok ) {\n                    throw new Error( responseData.message );\n                }\n\n                setIsLoading( false );\n                return responseData;\n            } catch ( err ) {\n                setError( err.message );\n                setIsLoading( false );\n                throw err;\n            }\n        },\n        []\n    );\n\n    const clearError = () => {\n        setError( null );\n    };\n\n    useEffect( () => {\n        return () => {\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n            activeHttpRequests.current.forEach( abortCtrl => abortCtrl.abort() );\n        };\n    }, [] );\n\n    return { isLoading, error, sendRequest, clearError };\n};\n","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\nconst VALIDATOR_TYPE_MIN = 'MIN';\nconst VALIDATOR_TYPE_MAX = 'MAX';\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\nconst VALIDATOR_TYPE_FILE = 'FILE';\n\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\nexport const VALIDATOR_MINLENGTH = val => ({\n    type: VALIDATOR_TYPE_MINLENGTH,\n    val: val\n});\nexport const VALIDATOR_MAXLENGTH = val => ({\n    type: VALIDATOR_TYPE_MAXLENGTH,\n    val: val\n});\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\n\nexport const validate = (value, validators) => {\n    let isValid = true;\n    for (const validator of validators) {\n        if (validator.type === VALIDATOR_TYPE_REQUIRE) {\n            isValid = isValid && value.trim().length > 0;\n        }\n        if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\n            isValid = isValid && value.trim().length >= validator.val;\n        }\n        if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\n            isValid = isValid && value.trim().length <= validator.val;\n        }\n        if (validator.type === VALIDATOR_TYPE_MIN) {\n            isValid = isValid && +value >= validator.val;\n        }\n        if (validator.type === VALIDATOR_TYPE_MAX) {\n            isValid = isValid && +value <= validator.val;\n        }\n        if (validator.type === VALIDATOR_TYPE_EMAIL) {\n            isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\n        }\n    }\n    return isValid;\n};\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import React, { useReducer, useEffect } from \"react\";\nimport { validate } from '../../util/validators';\n\nimport './Input.css'\n\nconst inputReducer = ( state, action ) => {\n    switch ( action.type ) {\n        case 'CHANGE':\n            return {\n                ...state,\n                value: action.val,\n                isValid: validate( action.val, action.validators )\n            };\n        case 'TOUCH':\n            return {\n                ...state,\n                isTouched: true\n            }\n        default:\n            return state;\n    }\n}\n\nconst Input = props => {\n    const [ inputState, dispatch ] = useReducer( inputReducer, {\n        value: props.initialValue || \"\",\n        isTouched: false,\n        isValid: props.initialValid || false\n    } )\n\n    const { id, onInput } = props;\n    const { value, isValid } = inputState;\n\n    useEffect( () => {\n        props.onInput( id, value, isValid )\n    }, [ id, value, isValid, onInput ] )\n\n    const changeHandler = event => {\n        dispatch( {\n            type: 'CHANGE',\n            val: event.target.value,\n            validators: props.validators\n        } );\n    };\n\n    const touchHandler = () => {\n        dispatch( {\n            type: \"TOUCH\"\n        } )\n    }\n\n    const element = props.element === 'input' ?\n        ( <input\n            id={ props.id }\n            type={ props.type }\n            placeholder={ props.placeholder }\n            onChange={ changeHandler }\n            onBlur={ touchHandler }\n            value={ inputState.value } /> ) :\n        ( <textarea\n            id={ props.id }\n            rows={ props.rows || 3 }\n            onChange={ changeHandler }\n            onBlur={ touchHandler }\n            value={ inputState.value } /> );\n\n\n    return ( <div className={ `form-control ${!inputState.isValid && inputState.isTouched && 'form-control--invalid'}` }>\n        <label htmlFor={ props.id }>\n            { props.label }</label>\n        { element }\n        { !inputState.isValid && !inputState.isTouched && <p>{ props.errorText }</p> }\n    </div> )\n}\n\nexport default Input;\n","import { useCallback, useReducer } from 'react';\n\nconst formReducer = ( state, action ) => {\n    switch ( action.type ) {\n        case 'INPUT_CHANGE':\n            let formIsValid = true;\n            for ( const inputId in state.inputs ) {\n                if ( !state.inputs[ inputId ] ) {\n                    continue;\n                }\n                if ( inputId === action.inputId ) {\n                    formIsValid = formIsValid && action.isValid;\n                } else {\n                    formIsValid = formIsValid && state.inputs[ inputId ].isValid;\n                }\n            }\n            return {\n                ...state,\n                inputs: {\n                    ...state.inputs,\n                    [ action.inputId ]: { value: action.value, isValid: action.isValid }\n                },\n                isValid: formIsValid\n            };\n        case 'SET_DATA':\n            return {\n                inputs: action.inputs,\n                isValid: action.formIsValid\n            };\n        default:\n            return state;\n    }\n};\n\nexport const useForm = ( initialInputs, initialFormValidity ) => {\n    const [ formState, dispatch ] = useReducer( formReducer, {\n        inputs: initialInputs,\n        isValid: initialFormValidity\n    } );\n\n    const inputHandler = useCallback( ( id, value, isValid ) => {\n        dispatch( {\n            type: 'INPUT_CHANGE',\n            value: value,\n            isValid: isValid,\n            inputId: id\n        } );\n    }, [] );\n\n    const setFormData = useCallback( ( inputData, formValidity ) => {\n        dispatch( {\n            type: 'SET_DATA',\n            inputs: inputData,\n            formIsValid: formValidity\n        } );\n    }, [] );\n\n    return [ formState, inputHandler, setFormData ];\n};","import React, { useRef, useState, useEffect } from 'react'\n\nimport Button from './Button'\nimport './ImageUpload.css'\n\nconst ImageUpload = props => {\n    const [ file, setFile ] = useState()\n    const [ previewUrl, setPreviewUrl ] = useState();\n    const [ isValid, setIsValid ] = useState( false )\n\n    const filePickerRef = useRef();\n\n    useEffect( () => {\n        if ( !file ) {\n            return;\n        }\n        const fileReader = new FileReader();\n        fileReader.onload = () => {\n            setPreviewUrl( fileReader.result )\n        }\n        fileReader.readAsDataURL( file )\n    }, [ file ] )\n\n    const pickedHandler = event => {\n        let pickedFile;\n        let fileIsValid = isValid;\n\n        if ( event.target.files || event.target.files.length === 1 ) {\n            pickedFile = event.target.files[ 0 ]\n            setFile( pickedFile )\n            setIsValid( true )\n            fileIsValid = true\n        } else {\n            setIsValid( false )\n            fileIsValid = false\n        }\n\n        props.onInput( props.id, pickedFile, fileIsValid )\n    }\n\n\n    const pickImageHandler = () => {\n        filePickerRef.current.click()\n    }\n\n    return (\n        <div className=\"form-control\">\n            <input\n                id={ props.id }\n                ref={ filePickerRef }\n                style={ { display: 'none' } }\n                type=\"file\"\n                accept=\".jpg,.png,.jpeg\"\n                onChange={ pickedHandler } />\n            <div className={ `image-upload ${props.center && 'center'}` }>\n                <div className=\"image-upload__preview\">\n                    { previewUrl && <img src={ previewUrl } alt=\"Preview\" /> }\n                    { !previewUrl && <p>Please pick an image.</p> }\n                </div>\n                <Button type=\"button\" onClick={ pickImageHandler }>Pick Image</Button>\n            </div>\n            { !isValid && <p>{ props.errorText }</p> }\n        </div>\n    )\n}\n\nexport default ImageUpload;","import React, { useContext } from \"react\";\nimport { useHistory } from 'react-router-dom'\n\nimport './PlaceForm.css'\nimport Input from \"../../shared/components/FormElements/Input\";\nimport { VALIDATOR_REQUIRE, VALIDATOR_MINLENGTH } from \"../../shared/util/validators\"\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\nimport ImageUpload from \"../../shared/components/FormElements/ImageUpload\";\nimport Button from '../../shared/components/FormElements/Button'\nimport { useForm } from '../../shared/hooks/form-hook'\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\nimport { AuthContext } from \"../../shared/context/auth-context\";\n\nconst NewPlace = () => {\n  const auth = useContext( AuthContext )\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\n\n  const [ formState, inputHandler ] = useForm( {\n    title: {\n      value: '',\n      isValid: false\n    },\n    description: {\n      value: '',\n      isValid: false\n    },\n    address: {\n      value: '',\n      isValid: false\n    },\n    image: {\n      value: null,\n      isValid: false\n    }\n  }, false )\n\n  const history = useHistory()\n\n  const placeSubmitHandler = async event => {\n    event.preventDefault();\n\n    try {\n      const formData = new FormData()\n\n      formData.append( 'title', formState.inputs.title.value )\n      formData.append( 'description', formState.inputs.description.value )\n      formData.append( 'address', formState.inputs.address.value )\n      formData.append( 'image', formState.inputs.image.value )\n      await sendRequest(\n        process.env.REACT_APP_BACKEND_URL + '/places',\n        'POST',\n        formData,\n        {\n          Authorization: 'Bearer ' + auth.token\n        } )\n      history.push( '/' )\n    } catch ( err ) {\n    }\n  };\n\n\n  return (\n    <React.Fragment>\n      <ErrorModal error={ error } onClear={ clearError } />\n      <form className=\"place-form\" onSubmit={ placeSubmitHandler }>\n        { isLoading && <LoadingSpinner asOverlay /> }\n        <Input id=\"title\" element=\"input\" type=\"text\" label=\"Title\"\n          validators={ [ VALIDATOR_REQUIRE() ] }\n          errorText=\"Please enter a valid title.\"\n          onInput={ inputHandler } />\n        <Input id=\"description\" element=\"textarea\" type=\"text\" label=\"Description\"\n          validators={ [ VALIDATOR_REQUIRE(), VALIDATOR_MINLENGTH( 5 ) ] }\n          errorText=\"Please enter a valid description (at least 5 characters).\"\n          onInput={ inputHandler } />\n        <Input id=\"address\" element=\"input\" type=\"text\" label=\"Address\"\n          validators={ [ VALIDATOR_REQUIRE() ] }\n          errorText=\"Please enter a valid address.\"\n          onInput={ inputHandler } />\n        <ImageUpload id=\"image\" onInput={ inputHandler } errorText=\"Please provide an image\" />\n        <Button type=\"submit\" disabled={ !formState.isValid }>\n          Add Place\n        </Button>\n      </form>\n    </React.Fragment> )\n};\n\nexport default NewPlace;\n"],"sourceRoot":""}